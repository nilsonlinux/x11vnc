#!/bin/bash
  #####################################################################################
  #### SUPORTE REGIONAL - PE/PB/AL/RN
  #####################################################################################
a='\033[1;33m'     # Amarelo
p='\033[0;35m'     # Purple
v="\033[0;31m"     #vermelho
vr="\033[01;32m"   #Verde
br="\033[0;37m"    #Branco
v1="\033[0;32m"    #Verde escuro
v2="\033[1;32m"    #verde claro
end='\033[0m'
##############################
logo () {
  clear
echo -e "${v1} __     ___   _  ____    ______ ____  _   _ 
\ \   / / \ | |/ ___|  / / ___/ ___|| | | |
 \ \ / /|  \| | |     / /\___ \___ \| |_| |
  \ V / | |\  | |___ / /  ___) |__) |  _  |
   \_/  |_| \_|\____/_/  |____/____/|_| |_|
   ${p}By: Nilsonlinux
   ${v1}Instala칞칚o e configura칞칚o.
   VNC Server e SSH + Atalhos. Para Linux Mint ${end}"
 }
##############################
logo
echo -e "${vr}Copiando atalhos pra 츼rea de Trabalho.${end}"
echo " ------------------------------------- "
if [ -e "$HOME/.icons" ]
then
echo " Diret칩rio ja existe. Prosseguindo com a instala칞칚o..."
else
mkdir $HOME/.icons
fi

mkdir $HOME/.local/comandos
cp $HOME/x11vnc/comandos/* $HOME/.local/comandos/
chmod +x $HOME/.local/comandos/*

cp $HOME/x11vnc/icons/* $HOME/.icons/
cp $HOME/x11vnc/Atalhos/* 츼rea\ de\ Trabalho/
sudo chmod +x 츼rea\ de\ Trabalho/*
rm -rf $HOME/x11vnc
echo -e "${p}INSTALANDO PACOTES...${end}"
sudo apt update && sudo apt install yad x11vnc freerdp2-x11 rdesktop openssh-server
logo
echo " ------------------------------------- "
sudo systemctl enable ssh
sudo systemctl start ssh
sudo ufw allow ssh
echo " ------------------------------------- "
echo "Criando diret칩rio em /etc/x11vnc..." 
if [ -e "/etc/x11vnc" ]
then
echo " Diret칩rio ja existe. Prosseguindo com a instala칞칚o..."
else
echo -e "${e} Criando o diret칩rio"
sudo mkdir /etc/x11vnc
fi
echo " ------------------------------------- "
echo -e ${a}"Informe a senha de acesso para quando for fazer o acesso VNC nesta m치quina...${end}"
echo -e "$v1-------------------------------------"
sudo x11vnc --storepasswd /etc/x11vnc/vncpwd 
echo -e "${br}Copiando arquivo de configura칞칚o...${end}"
sudo cp x11vnc/x11vnc.service /lib/systemd/system/
echo -e "${vr}Arquivo copiado...${end}"
echo "Configurando inicializa칞칚o autom치tica..."
echo "Configurando daemon-reload..."
sudo systemctl daemon-reload 
sudo systemctl enable x11vnc.service
sudo systemctl start x11vnc.service
echo -e "${vr} Instala칞칚o conclu칤da. ${end}"
echo " ------------------------------------- "
IP=$(hostname -I)
echo "IP da M치quina 游깷: ${IP}" 
echo " ------------------------------------- "
