#!/bin/bash
  #####################################################################################
  #### SUPORTE REGIONAL - PE/PB/AL/RN
  #####################################################################################
a='\033[1;33m'     # Amarelo
p='\033[0;35m'     # Purple
v="\033[0;31m"     #vermelho
vr="\033[01;32m"   #Verde
br="\033[0;37m"    #Branco
v1="\033[0;32m"    #Verde escuro
v2="\033[1;32m"    #verde claro
end='\033[0m'
##############################
logo () {
clear
echo -e  ${vr}"__     ___   _  ____   ____                             
       \ \   / / \ | |/ ___| / ___|  ___ _ ____   _____ _ __   
     " \ \ / /|  \| | |     \___ \ / _ \ '__\ \ / / _ \ '__|  
     "  \ V / | |\  | |___   ___) |  __/ |   \ V /  __/ |     "
     "   \_/  |_| \_|\____| |____/ \___|_|    \_/ \___|_|     "
     ${v1}" Instala칞칚o e configura칞칚o do VNC Server para Linux Mint ${end}"
     ${p}" By: Nilsonlinux ${end}"
}
echo    ${vr} "Copiando atalhos pra 츼rea de Trabalho.${end}"
echo " ------------------------------------- "
if [ -e "$HOME/.icons" ]
then
echo " Diret칩rio ja existe. Prosseguindo com a instala칞칚o..."
else
mkdir $HOME/.icons
fi
cp $HOME/x11vnc/icons/* /home/gmateus/.icons/
cp $HOME/x11vnc/Atalhos/* 츼rea\ de\ Trabalho/
sleep 1
#sudo chmod +x 츼rea\ de\ Trabalho/*
#rm -rf /home/gmateus/x11vnc

echo "Atualizando reposit칩rios do sistema e acesso rdesktop e freerdp"
sudo apt update && sudo apt install x11vnc freerdp2-x11 rdesktop openssh-server
logo
echo " ------------------------------------- "
echo "Atualizando reposit칩rios do sistema e acesso rdesktop e freerdp (OK)"
echo " Instalando o pacote x11vnc"
sleep 1
sudo systemctl enable ssh
sudo systemctl start ssh
sudo ufw allow ssh
echo " ------------------------------------- "
echo "Criando diret칩rio em /etc/x11vnc..." 
if [ -e "/etc/x11vnc" ]
then
echo " Diret칩rio ja existe. Prosseguindo com a instala칞칚o..."
else
echo ${e}" Criando o diret칩rio"
sudo mkdir /etc/x11vnc
fi
echo " ------------------------------------- "
echo  ${a}"Informe a senha de acesso para quando for fazer o acesso VNC nesta m치quina...${end}"
echo $v1
sudo x11vnc --storepasswd /etc/x11vnc/vncpwd 
echo   ${br}"Copiando arquivo de configura칞칚o...${end}"
sudo cp x11vnc/x11vnc.service /lib/systemd/system/
echo   ${vr}"Arquivo copiado...${end}"
echo "Configurando inicializa칞칚o autom치tica..."
echo "Configurando daemon-reload..."
sudo systemctl daemon-reload 
sudo systemctl enable x11vnc.service
sudo systemctl start x11vnc.service
echo    ${vr} "Instala칞칚o conclu칤da." ${end}
echo " ------------------------------------- "
echo "IP da M치quina: 游깷" 
hostname -I 
echo " ------------------------------------- "
echo ""
echo $v1"PROCESSO CONCLU칈DO COM SUCESSO..."$end
